{"D:\\PROYECTOS\\node-disk-info\\src\\index.ts":{"path":"D:\\PROYECTOS\\node-disk-info\\src\\index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":44}},"2":{"start":{"line":4,"column":14},"end":{"line":4,"column":42}},"3":{"start":{"line":5,"column":16},"end":{"line":5,"column":46}},"4":{"start":{"line":6,"column":14},"end":{"line":6,"column":38}},"5":{"start":{"line":14,"column":4},"end":{"line":38,"column":7}},"6":{"start":{"line":15,"column":8},"end":{"line":37,"column":9}},"7":{"start":{"line":16,"column":27},"end":{"line":16,"column":57}},"8":{"start":{"line":17,"column":29},"end":{"line":17,"column":35}},"9":{"start":{"line":18,"column":12},"end":{"line":33,"column":13}},"10":{"start":{"line":20,"column":20},"end":{"line":20,"column":57}},"11":{"start":{"line":21,"column":20},"end":{"line":21,"column":40}},"12":{"start":{"line":22,"column":20},"end":{"line":22,"column":26}},"13":{"start":{"line":24,"column":20},"end":{"line":24,"column":53}},"14":{"start":{"line":25,"column":20},"end":{"line":25,"column":40}},"15":{"start":{"line":26,"column":20},"end":{"line":26,"column":26}},"16":{"start":{"line":28,"column":20},"end":{"line":28,"column":55}},"17":{"start":{"line":29,"column":20},"end":{"line":29,"column":40}},"18":{"start":{"line":30,"column":20},"end":{"line":30,"column":26}},"19":{"start":{"line":32,"column":20},"end":{"line":32,"column":78}},"20":{"start":{"line":36,"column":12},"end":{"line":36,"column":22}},"21":{"start":{"line":40,"column":0},"end":{"line":40,"column":34}},"22":{"start":{"line":48,"column":19},"end":{"line":48,"column":49}},"23":{"start":{"line":50,"column":4},"end":{"line":62,"column":5}},"24":{"start":{"line":52,"column":12},"end":{"line":52,"column":49}},"25":{"start":{"line":53,"column":12},"end":{"line":53,"column":30}},"26":{"start":{"line":55,"column":12},"end":{"line":55,"column":45}},"27":{"start":{"line":56,"column":12},"end":{"line":56,"column":30}},"28":{"start":{"line":58,"column":12},"end":{"line":58,"column":47}},"29":{"start":{"line":59,"column":12},"end":{"line":59,"column":30}},"30":{"start":{"line":61,"column":12},"end":{"line":61,"column":68}},"31":{"start":{"line":64,"column":0},"end":{"line":64,"column":42}}},"fnMap":{"0":{"name":"getDiskInfo","decl":{"start":{"line":13,"column":9},"end":{"line":13,"column":20}},"loc":{"start":{"line":13,"column":23},"end":{"line":39,"column":1}},"line":13},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":23},"end":{"line":14,"column":24}},"loc":{"start":{"line":14,"column":50},"end":{"line":38,"column":5}},"line":14},"2":{"name":"getDiskInfoSync","decl":{"start":{"line":47,"column":9},"end":{"line":47,"column":24}},"loc":{"start":{"line":47,"column":27},"end":{"line":63,"column":1}},"line":47}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":12},"end":{"line":33,"column":13}},"type":"switch","locations":[{"start":{"line":19,"column":16},"end":{"line":22,"column":26}},{"start":{"line":23,"column":16},"end":{"line":26,"column":26}},{"start":{"line":27,"column":16},"end":{"line":30,"column":26}},{"start":{"line":31,"column":16},"end":{"line":32,"column":78}}],"line":18},"1":{"loc":{"start":{"line":50,"column":4},"end":{"line":62,"column":5}},"type":"switch","locations":[{"start":{"line":51,"column":8},"end":{"line":53,"column":30}},{"start":{"line":54,"column":8},"end":{"line":56,"column":30}},{"start":{"line":57,"column":8},"end":{"line":59,"column":30}},{"start":{"line":60,"column":8},"end":{"line":61,"column":68}}],"line":50}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":8,"6":8,"7":8,"8":7,"9":7,"10":2,"11":2,"12":2,"13":2,"14":2,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":1,"22":7,"23":7,"24":2,"25":2,"26":2,"27":2,"28":2,"29":2,"30":1,"31":1},"f":{"0":8,"1":8,"2":7},"b":{"0":[2,2,2,1],"1":[2,2,2,1]},"inputSourceMap":{"version":3,"file":"D:\\PROYECTOS\\node-disk-info\\src\\index.ts","sources":["D:\\PROYECTOS\\node-disk-info\\src\\index.ts"],"names":[],"mappings":";;AACA,6CAA0C;AAC1C,2CAAwC;AACxC,+CAA4C;AAC5C,uCAAoC;AAEpC;;;;;GAKG;AACH,SAAgB,WAAW;IAEvB,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;QAE/B,IAAI;YAEA,IAAM,QAAQ,GAAG,aAAK,CAAC,cAAc,EAAE,CAAC;YACxC,IAAI,UAAU,SAAS,CAAC;YAExB,QAAQ,QAAQ,EAAE;gBACd,KAAK,OAAO;oBACR,UAAU,GAAG,iBAAO,CAAC,GAAG,EAAE,CAAC;oBAC3B,OAAO,CAAC,UAAU,CAAC,CAAC;oBACpB,MAAM;gBACV,KAAK,OAAO;oBACR,UAAU,GAAG,aAAK,CAAC,GAAG,EAAE,CAAC;oBACzB,OAAO,CAAC,UAAU,CAAC,CAAC;oBACpB,MAAM;gBACV,KAAK,QAAQ;oBACT,UAAU,GAAG,eAAM,CAAC,GAAG,EAAE,CAAC;oBAC1B,OAAO,CAAC,UAAU,CAAC,CAAC;oBACpB,MAAM;gBACV;oBACI,MAAM,CAAC,IAAI,KAAK,CAAC,8BAA4B,QAAU,CAAC,CAAC,CAAC;aACjE;SAEJ;QAAC,OAAO,CAAC,EAAE;YACR,MAAM,CAAC,CAAC,CAAC,CAAC;SACb;IAEL,CAAC,CAAC,CAAA;AAEN,CAAC;AAhCD,kCAgCC;AAED;;;;;GAKG;AACH,SAAgB,eAAe;IAE3B,IAAM,QAAQ,GAAG,aAAK,CAAC,cAAc,EAAE,CAAC;IACxC,IAAI,UAAmB,CAAC;IAExB,QAAQ,QAAQ,EAAE;QACd,KAAK,OAAO;YACR,UAAU,GAAG,iBAAO,CAAC,GAAG,EAAE,CAAC;YAC3B,OAAO,UAAU,CAAC;QACtB,KAAK,OAAO;YACR,UAAU,GAAG,aAAK,CAAC,GAAG,EAAE,CAAC;YACzB,OAAO,UAAU,CAAC;QACtB,KAAK,QAAQ;YACT,UAAU,GAAG,eAAM,CAAC,GAAG,EAAE,CAAC;YAC1B,OAAO,UAAU,CAAC;QACtB;YACI,MAAM,IAAI,KAAK,CAAC,8BAA4B,QAAU,CAAC,CAAC;KAC/D;AAEL,CAAC;AAnBD,0CAmBC","sourcesContent":["import Drive from './classes/drive';\nimport {Darwin} from './platforms/darwin';\nimport {Linux} from './platforms/linux';\nimport {Windows} from './platforms/windows';\nimport {Utils} from './utils/utils';\n\n/**\n * Get disk info according current platform.\n *\n * @author Cristiam Mercado\n * @return {Promise<Drive[]>} Promise resolves array of disks and their info.\n */\nexport function getDiskInfo(): Promise<Drive[]> {\n\n    return new Promise((resolve, reject) => {\n\n        try {\n\n            const platform = Utils.detectPlatform();\n            let drivesInfo: Drive[];\n\n            switch (platform) {\n                case 'win32':\n                    drivesInfo = Windows.run();\n                    resolve(drivesInfo);\n                    break;\n                case 'linux':\n                    drivesInfo = Linux.run();\n                    resolve(drivesInfo);\n                    break;\n                case 'darwin':\n                    drivesInfo = Darwin.run();\n                    resolve(drivesInfo);\n                    break;\n                default:\n                    reject(new Error(`Platform not recognized: ${platform}`));\n            }\n\n        } catch (e) {\n            reject(e);\n        }\n\n    })\n\n}\n\n/**\n * Get disk info according current platform in an syncronous way.\n *\n * @author Cristiam Mercado\n * @return {Drive[]} Array of disks and their info.\n */\nexport function getDiskInfoSync(): Drive[] {\n\n    const platform = Utils.detectPlatform();\n    let drivesInfo: Drive[];\n\n    switch (platform) {\n        case 'win32':\n            drivesInfo = Windows.run();\n            return drivesInfo;\n        case 'linux':\n            drivesInfo = Linux.run();\n            return drivesInfo;\n        case 'darwin':\n            drivesInfo = Darwin.run();\n            return drivesInfo;\n        default:\n            throw new Error(`Platform not recognized: ${platform}`);\n    }\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"51d56d9f51c3eb567a7af64d41a93fbf0d20216c","contentHash":"71dd3f9fdda5f6f856358f4cfb07e1253e871c3000929b5a421214277691472a"},"D:\\PROYECTOS\\node-disk-info\\src\\platforms\\darwin.ts":{"path":"D:\\PROYECTOS\\node-disk-info\\src\\platforms\\darwin.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":47}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":58}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":39}},"6":{"start":{"line":12,"column":28},"end":{"line":35,"column":3}},"7":{"start":{"line":20,"column":4},"end":{"line":33,"column":6}},"8":{"start":{"line":21,"column":21},"end":{"line":21,"column":23}},"9":{"start":{"line":22,"column":21},"end":{"line":22,"column":80}},"10":{"start":{"line":23,"column":20},"end":{"line":23,"column":38}},"11":{"start":{"line":24,"column":8},"end":{"line":31,"column":11}},"12":{"start":{"line":25,"column":12},"end":{"line":30,"column":13}},"13":{"start":{"line":26,"column":27},"end":{"line":26,"column":56}},"14":{"start":{"line":27,"column":29},"end":{"line":27,"column":44}},"15":{"start":{"line":28,"column":24},"end":{"line":28,"column":217}},"16":{"start":{"line":29,"column":16},"end":{"line":29,"column":31}},"17":{"start":{"line":32,"column":8},"end":{"line":32,"column":22}},"18":{"start":{"line":34,"column":4},"end":{"line":34,"column":18}},"19":{"start":{"line":36,"column":0},"end":{"line":36,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":28},"end":{"line":12,"column":29}},"loc":{"start":{"line":12,"column":40},"end":{"line":35,"column":1}},"line":12},"2":{"name":"Darwin","decl":{"start":{"line":13,"column":13},"end":{"line":13,"column":19}},"loc":{"start":{"line":13,"column":22},"end":{"line":14,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":17},"end":{"line":20,"column":18}},"loc":{"start":{"line":20,"column":29},"end":{"line":33,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":24,"column":22},"end":{"line":24,"column":23}},"loc":{"start":{"line":24,"column":53},"end":{"line":31,"column":9}},"line":24}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":25,"column":12},"end":{"line":30,"column":13}},"type":"if","locations":[{"start":{"line":25,"column":12},"end":{"line":30,"column":13}},{"start":{"line":25,"column":12},"end":{"line":30,"column":13}}],"line":25},"4":{"loc":{"start":{"line":28,"column":55},"end":{"line":28,"column":100}},"type":"cond-expr","locations":[{"start":{"line":28,"column":86},"end":{"line":28,"column":87}},{"start":{"line":28,"column":90},"end":{"line":28,"column":100}}],"line":28},"5":{"loc":{"start":{"line":28,"column":102},"end":{"line":28,"column":147}},"type":"cond-expr","locations":[{"start":{"line":28,"column":133},"end":{"line":28,"column":134}},{"start":{"line":28,"column":137},"end":{"line":28,"column":147}}],"line":28},"6":{"loc":{"start":{"line":28,"column":149},"end":{"line":28,"column":194}},"type":"cond-expr","locations":[{"start":{"line":28,"column":180},"end":{"line":28,"column":181}},{"start":{"line":28,"column":184},"end":{"line":28,"column":194}}],"line":28}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":4,"9":4,"10":4,"11":4,"12":48,"13":48,"14":48,"15":48,"16":48,"17":4,"18":1,"19":1},"f":{"0":1,"1":1,"2":0,"3":4,"4":48},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[48,0],"4":[4,44],"5":[4,44],"6":[4,44]},"inputSourceMap":{"version":3,"file":"D:\\PROYECTOS\\node-disk-info\\src\\platforms\\darwin.ts","sources":["D:\\PROYECTOS\\node-disk-info\\src\\platforms\\darwin.ts"],"names":[],"mappings":";;;;;AAAA,gDAA6C;AAE7C,2DAAqC;AACrC,wCAAqC;AAErC;;GAEG;AACH;IAAA;IAqCA,CAAC;IAnCG;;;;OAIG;IACW,UAAG,GAAjB;QAEI,IAAM,MAAM,GAAY,EAAE,CAAC;QAC3B,IAAM,MAAM,GAAG,aAAK,CAAC,OAAO,CAAC,qBAAS,CAAC,cAAc,CAAC,CAAC;QACvD,IAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAEjC,KAAK,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,KAAK,EAAE,KAAK;YAE9B,IAAI,KAAK,KAAK,EAAE,EAAE;gBAEd,IAAM,IAAI,GAAW,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;gBACnD,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAE/B,IAAM,CAAC,GAAG,IAAI,eAAK,CACf,MAAM,CAAC,CAAC,CAAC,EACT,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAC7C,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAC7C,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAC7C,MAAM,CAAC,CAAC,CAAC,EACT,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBAEf,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aAElB;QAEL,CAAC,CAAC,CAAC;QAEH,OAAO,MAAM,CAAC;IAClB,CAAC;IAEL,aAAC;AAAD,CAAC,AArCD,IAqCC;AArCY,wBAAM","sourcesContent":["import {Constants} from '../utils/constants';\n\nimport Drive from '../classes/drive';\nimport {Utils} from \"../utils/utils\";\n\n/**\n * Class with OSX specific logic to get disk info.\n */\nexport class Darwin {\n\n    /**\n     * Execute specific OSX command to get disk info.\n     *\n     * @return {Drive[]} List of drives and their info.\n     */\n    public static run(): Drive[] {\n\n        const drives: Drive[] = [];\n        const buffer = Utils.execute(Constants.DARWIN_COMMAND);\n        const lines = buffer.split('\\n');\n\n        lines.forEach((value, index, array) => {\n\n            if (value !== '') {\n\n                const line: string = value.replace(/ +(?= )/g, '');\n                const tokens = line.split(' ');\n\n                const d = new Drive(\n                    tokens[0],\n                    isNaN(parseFloat(tokens[1])) ? 0 : +tokens[1],\n                    isNaN(parseFloat(tokens[2])) ? 0 : +tokens[2],\n                    isNaN(parseFloat(tokens[3])) ? 0 : +tokens[3],\n                    tokens[4],\n                    tokens[5]);\n\n                drives.push(d);\n\n            }\n\n        });\n\n        return drives;\n    }\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"faf653b3dc1df928adb90eb0f28afd3972df90df","contentHash":"1f61d1bbce4df9854855c3e58e0305d22973b0e184af0351e537ef6ed7e82ad4"},"D:\\PROYECTOS\\node-disk-info\\src\\utils\\constants.ts":{"path":"D:\\PROYECTOS\\node-disk-info\\src\\utils\\constants.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":6,"column":31},"end":{"line":22,"column":3}},"2":{"start":{"line":12,"column":4},"end":{"line":12,"column":123}},"3":{"start":{"line":16,"column":4},"end":{"line":16,"column":55}},"4":{"start":{"line":20,"column":4},"end":{"line":20,"column":56}},"5":{"start":{"line":21,"column":4},"end":{"line":21,"column":21}},"6":{"start":{"line":23,"column":0},"end":{"line":23,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":31},"end":{"line":6,"column":32}},"loc":{"start":{"line":6,"column":43},"end":{"line":22,"column":1}},"line":6},"1":{"name":"Constants","decl":{"start":{"line":7,"column":13},"end":{"line":7,"column":22}},"loc":{"start":{"line":7,"column":25},"end":{"line":8,"column":5}},"line":7}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"D:\\PROYECTOS\\node-disk-info\\src\\utils\\constants.ts","sources":["D:\\PROYECTOS\\node-disk-info\\src\\utils\\constants.ts"],"names":[],"mappings":";;AAAA;;GAEG;AACH;IAAA;IAiBA,CAAC;IAfG;;OAEG;IACoB,yBAAe,GAAW,0FAA0F,CAAC;IAE5I;;OAEG;IACoB,uBAAa,GAAW,wBAAwB,CAAC;IAExE;;OAEG;IACoB,wBAAc,GAAW,wBAAwB,CAAC;IAE7E,gBAAC;CAAA,AAjBD,IAiBC;AAjBY,8BAAS","sourcesContent":["/**\n * Class with constants used in the application.\n */\nexport class Constants {\n\n    /**\n     * Command to execute on Windows.\n     */\n    public static readonly WINDOWS_COMMAND: string = 'wmic logicaldisk get Caption,FreeSpace,Size,VolumeSerialNumber,Description  /format:list';\n\n    /**\n     * Command to execute on Linux.\n     */\n    public static readonly LINUX_COMMAND: string = 'df -P | awk \\'NR > 1\\'';\n\n    /**\n     * Command to execute on OSX.\n     */\n    public static readonly DARWIN_COMMAND: string = 'df -P | awk \\'NR > 1\\'';\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1cf88a8ed5f184037a426678b81887aa8f2be08e","contentHash":"56eee57f57d3c89bf978e2c32cfe329124d063effa232cfcdb1e90e11dd62a48"},"D:\\PROYECTOS\\node-disk-info\\src\\classes\\drive.ts":{"path":"D:\\PROYECTOS\\node-disk-info\\src\\classes\\drive.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":8,"column":27},"end":{"line":100,"column":3}},"2":{"start":{"line":20,"column":8},"end":{"line":20,"column":38}},"3":{"start":{"line":21,"column":8},"end":{"line":21,"column":30}},"4":{"start":{"line":22,"column":8},"end":{"line":22,"column":26}},"5":{"start":{"line":23,"column":8},"end":{"line":23,"column":36}},"6":{"start":{"line":24,"column":8},"end":{"line":24,"column":34}},"7":{"start":{"line":25,"column":8},"end":{"line":25,"column":32}},"8":{"start":{"line":27,"column":4},"end":{"line":38,"column":7}},"9":{"start":{"line":34,"column":12},"end":{"line":34,"column":36}},"10":{"start":{"line":39,"column":4},"end":{"line":50,"column":7}},"11":{"start":{"line":46,"column":12},"end":{"line":46,"column":32}},"12":{"start":{"line":51,"column":4},"end":{"line":62,"column":7}},"13":{"start":{"line":58,"column":12},"end":{"line":58,"column":30}},"14":{"start":{"line":63,"column":4},"end":{"line":74,"column":7}},"15":{"start":{"line":70,"column":12},"end":{"line":70,"column":35}},"16":{"start":{"line":75,"column":4},"end":{"line":86,"column":7}},"17":{"start":{"line":82,"column":12},"end":{"line":82,"column":34}},"18":{"start":{"line":87,"column":4},"end":{"line":98,"column":7}},"19":{"start":{"line":94,"column":12},"end":{"line":94,"column":33}},"20":{"start":{"line":99,"column":4},"end":{"line":99,"column":17}},"21":{"start":{"line":101,"column":0},"end":{"line":101,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":27},"end":{"line":8,"column":28}},"loc":{"start":{"line":8,"column":39},"end":{"line":100,"column":1}},"line":8},"1":{"name":"Drive","decl":{"start":{"line":19,"column":13},"end":{"line":19,"column":18}},"loc":{"start":{"line":19,"column":75},"end":{"line":26,"column":5}},"line":19},"2":{"name":"(anonymous_2)","decl":{"start":{"line":33,"column":13},"end":{"line":33,"column":14}},"loc":{"start":{"line":33,"column":25},"end":{"line":35,"column":9}},"line":33},"3":{"name":"(anonymous_3)","decl":{"start":{"line":45,"column":13},"end":{"line":45,"column":14}},"loc":{"start":{"line":45,"column":25},"end":{"line":47,"column":9}},"line":45},"4":{"name":"(anonymous_4)","decl":{"start":{"line":57,"column":13},"end":{"line":57,"column":14}},"loc":{"start":{"line":57,"column":25},"end":{"line":59,"column":9}},"line":57},"5":{"name":"(anonymous_5)","decl":{"start":{"line":69,"column":13},"end":{"line":69,"column":14}},"loc":{"start":{"line":69,"column":25},"end":{"line":71,"column":9}},"line":69},"6":{"name":"(anonymous_6)","decl":{"start":{"line":81,"column":13},"end":{"line":81,"column":14}},"loc":{"start":{"line":81,"column":25},"end":{"line":83,"column":9}},"line":81},"7":{"name":"(anonymous_7)","decl":{"start":{"line":93,"column":13},"end":{"line":93,"column":14}},"loc":{"start":{"line":93,"column":25},"end":{"line":95,"column":9}},"line":93}},"branchMap":{},"s":{"0":1,"1":1,"2":108,"3":108,"4":108,"5":108,"6":108,"7":108,"8":1,"9":12,"10":1,"11":12,"12":1,"13":12,"14":1,"15":12,"16":1,"17":12,"18":1,"19":12,"20":1,"21":1},"f":{"0":1,"1":108,"2":12,"3":12,"4":12,"5":12,"6":12,"7":12},"b":{},"inputSourceMap":{"version":3,"file":"D:\\PROYECTOS\\node-disk-info\\src\\classes\\drive.ts","sources":["D:\\PROYECTOS\\node-disk-info\\src\\classes\\drive.ts"],"names":[],"mappings":";;AAAA;;;;GAIG;AACH;IAgCI;;;;;;;;;OASG;IACH,eAAmB,UAAkB,EAAE,MAAc,EAAE,IAAY,EAAE,SAAiB,EAAE,QAAgB,EAAE,OAAe;QACrH,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;QAC9B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC1B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;IAC5B,CAAC;IAOD,sBAAI,6BAAU;QALd;;;;WAIG;aACH;YACI,OAAO,IAAI,CAAC,WAAW,CAAC;QAC5B,CAAC;;;OAAA;IAOD,sBAAI,yBAAM;QALV;;;;WAIG;aACH;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;;;OAAA;IAOD,sBAAI,uBAAI;QALR;;;;WAIG;aACH;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;;;OAAA;IAOD,sBAAI,4BAAS;QALb;;;;WAIG;aACH;YACI,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;;;OAAA;IAOD,sBAAI,2BAAQ;QALZ;;;;WAIG;aACH;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;;;OAAA;IAOD,sBAAI,0BAAO;QALX;;;;WAIG;aACH;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;;;OAAA;IACL,YAAC;AAAD,CAAC,AAxGD,IAwGC","sourcesContent":["/**\n * Class with drive information.\n *\n * @author Cristiam Mercado\n */\nexport default class Drive {\n\n    /**\n     * Drive filesystem.\n     */\n    private readonly _filesystem: string;\n\n    /**\n     * Blocks associated to disk.\n     */\n    private readonly _blocks: number;\n\n    /**\n     * Used disk space.\n     */\n    private readonly _used: number;\n\n    /**\n     * Available disk space.\n     */\n    private readonly _available: number;\n\n    /**\n     * Disk capacity.\n     */\n    private readonly _capacity: string;\n\n    /**\n     * Indicates the mount point of the disk.\n     */\n    private readonly _mounted: string;\n\n    /**\n     * Constructor for Drive class.\n     *\n     * @param {string} filesystem Drive filesystem.\n     * @param {number} blocks Blocks associated to disk.\n     * @param {number} used Used disk space.\n     * @param {number} available Available disk space.\n     * @param {string} capacity Disk capacity.\n     * @param {string} mounted Indicates the mount point of the disk.\n     */\n    public constructor(filesystem: string, blocks: number, used: number, available: number, capacity: string, mounted: string) {\n        this._filesystem = filesystem;\n        this._blocks = blocks;\n        this._used = used;\n        this._available = available;\n        this._capacity = capacity;\n        this._mounted = mounted;\n    }\n\n    /**\n     * Drive filesystem.\n     *\n     * @return Gets drive filesystem.\n     */\n    get filesystem(): string {\n        return this._filesystem;\n    }\n\n    /**\n     * Blocks associated to disk.\n     *\n     * @return Gets blocks associated to disk.\n     */\n    get blocks(): number {\n        return this._blocks;\n    }\n\n    /**\n     * Used disk space.\n     *\n     * @return Gets used disk space.\n     */\n    get used(): number {\n        return this._used;\n    }\n\n    /**\n     * Available disk space.\n     *\n     * @return Gets available disk space.\n     */\n    get available(): number {\n        return this._available;\n    }\n\n    /**\n     * Disk capacity.\n     *\n     * @return Gets disk capacity.\n     */\n    get capacity(): string {\n        return this._capacity;\n    }\n\n    /**\n     * Indicates the mount point of the disk.\n     *\n     * @return Gets the mount point of the disk.\n     */\n    get mounted(): string {\n        return this._mounted;\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a82e30d326e3cbc2a8eb71d6af78d01d61b6cd71","contentHash":"ad58a12856179d42ada0ab4dc8c681c832586bad53e118926498f57b98bccbfe"},"D:\\PROYECTOS\\node-disk-info\\src\\utils\\utils.ts":{"path":"D:\\PROYECTOS\\node-disk-info\\src\\utils\\utils.ts","statementMap":{"0":{"start":{"line":2,"column":19},"end":{"line":8,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":42}},"2":{"start":{"line":3,"column":31},"end":{"line":3,"column":42}},"3":{"start":{"line":4,"column":17},"end":{"line":4,"column":19}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":99}},"5":{"start":{"line":5,"column":21},"end":{"line":5,"column":99}},"6":{"start":{"line":5,"column":40},"end":{"line":5,"column":99}},"7":{"start":{"line":5,"column":80},"end":{"line":5,"column":99}},"8":{"start":{"line":6,"column":4},"end":{"line":6,"column":28}},"9":{"start":{"line":7,"column":4},"end":{"line":7,"column":18}},"10":{"start":{"line":9,"column":0},"end":{"line":9,"column":62}},"11":{"start":{"line":10,"column":9},"end":{"line":10,"column":36}},"12":{"start":{"line":11,"column":22},"end":{"line":11,"column":46}},"13":{"start":{"line":15,"column":27},"end":{"line":35,"column":3}},"14":{"start":{"line":23,"column":4},"end":{"line":25,"column":6}},"15":{"start":{"line":24,"column":8},"end":{"line":24,"column":43}},"16":{"start":{"line":31,"column":4},"end":{"line":33,"column":6}},"17":{"start":{"line":32,"column":8},"end":{"line":32,"column":60}},"18":{"start":{"line":34,"column":4},"end":{"line":34,"column":17}},"19":{"start":{"line":36,"column":0},"end":{"line":36,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":50},"end":{"line":2,"column":51}},"loc":{"start":{"line":2,"column":65},"end":{"line":8,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":27},"end":{"line":15,"column":28}},"loc":{"start":{"line":15,"column":39},"end":{"line":35,"column":1}},"line":15},"2":{"name":"Utils","decl":{"start":{"line":16,"column":13},"end":{"line":16,"column":18}},"loc":{"start":{"line":16,"column":21},"end":{"line":17,"column":5}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":27},"end":{"line":23,"column":28}},"loc":{"start":{"line":23,"column":39},"end":{"line":25,"column":5}},"line":23},"4":{"name":"(anonymous_4)","decl":{"start":{"line":31,"column":20},"end":{"line":31,"column":21}},"loc":{"start":{"line":31,"column":39},"end":{"line":33,"column":5}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":19},"end":{"line":8,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":20},"end":{"line":2,"column":24}},{"start":{"line":2,"column":28},"end":{"line":2,"column":45}},{"start":{"line":2,"column":50},"end":{"line":8,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":42}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":42}},{"start":{"line":3,"column":4},"end":{"line":3,"column":42}}],"line":3},"2":{"loc":{"start":{"line":3,"column":8},"end":{"line":3,"column":29}},"type":"binary-expr","locations":[{"start":{"line":3,"column":8},"end":{"line":3,"column":11}},{"start":{"line":3,"column":15},"end":{"line":3,"column":29}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":99}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":5,"column":99}},{"start":{"line":5,"column":4},"end":{"line":5,"column":99}}],"line":5},"4":{"loc":{"start":{"line":5,"column":40},"end":{"line":5,"column":99}},"type":"if","locations":[{"start":{"line":5,"column":40},"end":{"line":5,"column":99}},{"start":{"line":5,"column":40},"end":{"line":5,"column":99}}],"line":5}},"s":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":1,"6":20,"7":20,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":4,"16":1,"17":4,"18":1,"19":1},"f":{"0":1,"1":1,"2":0,"3":4,"4":4},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[1,0],"4":[20,0]},"inputSourceMap":{"version":3,"file":"D:\\PROYECTOS\\node-disk-info\\src\\utils\\utils.ts","sources":["D:\\PROYECTOS\\node-disk-info\\src\\utils\\utils.ts"],"names":[],"mappings":";;;;;;;;;AAAA,qCAAyB;AACzB,+CAAuC;AAEvC;;GAEG;AACH;IAAA;IAmBA,CAAC;IAjBG;;;;OAIG;IACW,oBAAc,GAA5B;QACI,OAAO,EAAE,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC;IACvC,CAAC;IAED;;;;OAIG;IACW,aAAO,GAArB,UAAsB,OAAe;QACjC,OAAO,wBAAQ,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC;IACxC,CAAC;IACL,YAAC;AAAD,CAAC,AAnBD,IAmBC;AAnBY,sBAAK","sourcesContent":["import * as os from 'os';\nimport {execSync} from 'child_process';\n\n/**\n * Class with utilitary methods.\n */\nexport class Utils {\n\n    /**\n     * Detects current platform.\n     *\n     * @return {string} Platform: win32, linux, darwin.\n     */\n    public static detectPlatform(): string {\n        return os.platform().toLowerCase();\n    }\n\n    /**\n     * Executes a command in SO console.\n     *\n     * @param {string} command: Command to execute.\n     */\n    public static execute(command: string): string {\n        return execSync(command).toString();\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b577b6c0e72a648477297ad30535ea837fdbf3e8","contentHash":"d36d9875394a8c4eb78d0958fd9983c6d2cc32a665cc0f1babca12faf4b4108e"},"D:\\PROYECTOS\\node-disk-info\\src\\platforms\\linux.ts":{"path":"D:\\PROYECTOS\\node-disk-info\\src\\platforms\\linux.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":47}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":58}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":39}},"6":{"start":{"line":12,"column":27},"end":{"line":35,"column":3}},"7":{"start":{"line":20,"column":4},"end":{"line":33,"column":6}},"8":{"start":{"line":21,"column":21},"end":{"line":21,"column":23}},"9":{"start":{"line":22,"column":21},"end":{"line":22,"column":79}},"10":{"start":{"line":23,"column":20},"end":{"line":23,"column":38}},"11":{"start":{"line":24,"column":8},"end":{"line":31,"column":11}},"12":{"start":{"line":25,"column":12},"end":{"line":30,"column":13}},"13":{"start":{"line":26,"column":27},"end":{"line":26,"column":56}},"14":{"start":{"line":27,"column":29},"end":{"line":27,"column":44}},"15":{"start":{"line":28,"column":24},"end":{"line":28,"column":217}},"16":{"start":{"line":29,"column":16},"end":{"line":29,"column":31}},"17":{"start":{"line":32,"column":8},"end":{"line":32,"column":22}},"18":{"start":{"line":34,"column":4},"end":{"line":34,"column":17}},"19":{"start":{"line":36,"column":0},"end":{"line":36,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":27},"end":{"line":12,"column":28}},"loc":{"start":{"line":12,"column":39},"end":{"line":35,"column":1}},"line":12},"2":{"name":"Linux","decl":{"start":{"line":13,"column":13},"end":{"line":13,"column":18}},"loc":{"start":{"line":13,"column":21},"end":{"line":14,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":16},"end":{"line":20,"column":17}},"loc":{"start":{"line":20,"column":28},"end":{"line":33,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":24,"column":22},"end":{"line":24,"column":23}},"loc":{"start":{"line":24,"column":39},"end":{"line":31,"column":9}},"line":24}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":25,"column":12},"end":{"line":30,"column":13}},"type":"if","locations":[{"start":{"line":25,"column":12},"end":{"line":30,"column":13}},{"start":{"line":25,"column":12},"end":{"line":30,"column":13}}],"line":25},"4":{"loc":{"start":{"line":28,"column":55},"end":{"line":28,"column":100}},"type":"cond-expr","locations":[{"start":{"line":28,"column":86},"end":{"line":28,"column":87}},{"start":{"line":28,"column":90},"end":{"line":28,"column":100}}],"line":28},"5":{"loc":{"start":{"line":28,"column":102},"end":{"line":28,"column":147}},"type":"cond-expr","locations":[{"start":{"line":28,"column":133},"end":{"line":28,"column":134}},{"start":{"line":28,"column":137},"end":{"line":28,"column":147}}],"line":28},"6":{"loc":{"start":{"line":28,"column":149},"end":{"line":28,"column":194}},"type":"cond-expr","locations":[{"start":{"line":28,"column":180},"end":{"line":28,"column":181}},{"start":{"line":28,"column":184},"end":{"line":28,"column":194}}],"line":28}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":4,"9":4,"10":4,"11":4,"12":48,"13":48,"14":48,"15":48,"16":48,"17":4,"18":1,"19":1},"f":{"0":1,"1":1,"2":0,"3":4,"4":48},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[48,0],"4":[4,44],"5":[4,44],"6":[4,44]},"inputSourceMap":{"version":3,"file":"D:\\PROYECTOS\\node-disk-info\\src\\platforms\\linux.ts","sources":["D:\\PROYECTOS\\node-disk-info\\src\\platforms\\linux.ts"],"names":[],"mappings":";;;;;AAAA,gDAA6C;AAE7C,2DAAqC;AACrC,wCAAqC;AAErC;;GAEG;AACH;IAAA;IAoCA,CAAC;IAlCG;;;;OAIG;IACW,SAAG,GAAjB;QAEI,IAAM,MAAM,GAAY,EAAE,CAAC;QAC3B,IAAM,MAAM,GAAG,aAAK,CAAC,OAAO,CAAC,qBAAS,CAAC,aAAa,CAAC,CAAC;QACtD,IAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAEjC,KAAK,CAAC,OAAO,CAAC,UAAC,KAAK;YAEhB,IAAI,KAAK,KAAK,EAAE,EAAE;gBAEd,IAAM,IAAI,GAAW,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;gBACnD,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAE/B,IAAM,CAAC,GAAG,IAAI,eAAK,CACf,MAAM,CAAC,CAAC,CAAC,EACT,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAC7C,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAC7C,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAC7C,MAAM,CAAC,CAAC,CAAC,EACT,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBAEf,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aAClB;QAEL,CAAC,CAAC,CAAC;QAEH,OAAO,MAAM,CAAC;IAClB,CAAC;IAEL,YAAC;AAAD,CAAC,AApCD,IAoCC;AApCY,sBAAK","sourcesContent":["import {Constants} from '../utils/constants';\n\nimport Drive from '../classes/drive';\nimport {Utils} from \"../utils/utils\";\n\n/**\n * Class with Linux specific logic to get disk info.\n */\nexport class Linux {\n\n    /**\n     * Execute specific Linux command to get disk info.\n     *\n     * @return {Drive[]} List of drives and their info.\n     */\n    public static run(): Drive[] {\n\n        const drives: Drive[] = [];\n        const buffer = Utils.execute(Constants.LINUX_COMMAND);\n        const lines = buffer.split('\\n');\n\n        lines.forEach((value) => {\n\n            if (value !== '') {\n\n                const line: string = value.replace(/ +(?= )/g, '');\n                const tokens = line.split(' ');\n\n                const d = new Drive(\n                    tokens[0],\n                    isNaN(parseFloat(tokens[1])) ? 0 : +tokens[1],\n                    isNaN(parseFloat(tokens[2])) ? 0 : +tokens[2],\n                    isNaN(parseFloat(tokens[3])) ? 0 : +tokens[3],\n                    tokens[4],\n                    tokens[5]);\n\n                drives.push(d);\n            }\n\n        });\n\n        return drives;\n    }\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b6cf6c74aedcbfc156f90825c612e029a0b7a1ee","contentHash":"55681664576789848c750e445c1269e1021fd96dced0fc5b2ab0ff49376ae6a9"},"D:\\PROYECTOS\\node-disk-info\\src\\platforms\\windows.ts":{"path":"D:\\PROYECTOS\\node-disk-info\\src\\platforms\\windows.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":47}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":58}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":39}},"6":{"start":{"line":12,"column":29},"end":{"line":70,"column":3}},"7":{"start":{"line":20,"column":4},"end":{"line":68,"column":6}},"8":{"start":{"line":21,"column":21},"end":{"line":21,"column":23}},"9":{"start":{"line":22,"column":21},"end":{"line":22,"column":81}},"10":{"start":{"line":23,"column":20},"end":{"line":23,"column":42}},"11":{"start":{"line":24,"column":31},"end":{"line":24,"column":36}},"12":{"start":{"line":25,"column":22},"end":{"line":25,"column":24}},"13":{"start":{"line":26,"column":26},"end":{"line":26,"column":28}},"14":{"start":{"line":27,"column":24},"end":{"line":27,"column":25}},"15":{"start":{"line":28,"column":19},"end":{"line":28,"column":20}},"16":{"start":{"line":29,"column":8},"end":{"line":66,"column":11}},"17":{"start":{"line":30,"column":12},"end":{"line":65,"column":13}},"18":{"start":{"line":31,"column":29},"end":{"line":31,"column":45}},"19":{"start":{"line":32,"column":30},"end":{"line":32,"column":39}},"20":{"start":{"line":33,"column":27},"end":{"line":33,"column":36}},"21":{"start":{"line":34,"column":16},"end":{"line":48,"column":17}},"22":{"start":{"line":36,"column":24},"end":{"line":36,"column":39}},"23":{"start":{"line":37,"column":24},"end":{"line":37,"column":48}},"24":{"start":{"line":38,"column":24},"end":{"line":38,"column":30}},"25":{"start":{"line":40,"column":24},"end":{"line":40,"column":43}},"26":{"start":{"line":41,"column":24},"end":{"line":41,"column":30}},"27":{"start":{"line":43,"column":24},"end":{"line":43,"column":72}},"28":{"start":{"line":44,"column":24},"end":{"line":44,"column":30}},"29":{"start":{"line":46,"column":24},"end":{"line":46,"column":67}},"30":{"start":{"line":47,"column":24},"end":{"line":47,"column":30}},"31":{"start":{"line":51,"column":16},"end":{"line":64,"column":17}},"32":{"start":{"line":52,"column":32},"end":{"line":52,"column":48}},"33":{"start":{"line":53,"column":34},"end":{"line":53,"column":38}},"34":{"start":{"line":54,"column":20},"end":{"line":56,"column":21}},"35":{"start":{"line":55,"column":24},"end":{"line":55,"column":72}},"36":{"start":{"line":57,"column":28},"end":{"line":57,"column":101}},"37":{"start":{"line":58,"column":20},"end":{"line":58,"column":35}},"38":{"start":{"line":59,"column":20},"end":{"line":59,"column":45}},"39":{"start":{"line":60,"column":20},"end":{"line":60,"column":33}},"40":{"start":{"line":61,"column":20},"end":{"line":61,"column":37}},"41":{"start":{"line":62,"column":20},"end":{"line":62,"column":34}},"42":{"start":{"line":63,"column":20},"end":{"line":63,"column":29}},"43":{"start":{"line":67,"column":8},"end":{"line":67,"column":22}},"44":{"start":{"line":69,"column":4},"end":{"line":69,"column":19}},"45":{"start":{"line":71,"column":0},"end":{"line":71,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":29},"end":{"line":12,"column":30}},"loc":{"start":{"line":12,"column":41},"end":{"line":70,"column":1}},"line":12},"2":{"name":"Windows","decl":{"start":{"line":13,"column":13},"end":{"line":13,"column":20}},"loc":{"start":{"line":13,"column":23},"end":{"line":14,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":18},"end":{"line":20,"column":19}},"loc":{"start":{"line":20,"column":30},"end":{"line":68,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":22},"end":{"line":29,"column":23}},"loc":{"start":{"line":29,"column":39},"end":{"line":66,"column":9}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":30,"column":12},"end":{"line":65,"column":13}},"type":"if","locations":[{"start":{"line":30,"column":12},"end":{"line":65,"column":13}},{"start":{"line":30,"column":12},"end":{"line":65,"column":13}}],"line":30},"4":{"loc":{"start":{"line":34,"column":16},"end":{"line":48,"column":17}},"type":"switch","locations":[{"start":{"line":35,"column":20},"end":{"line":38,"column":30}},{"start":{"line":39,"column":20},"end":{"line":41,"column":30}},{"start":{"line":42,"column":20},"end":{"line":44,"column":30}},{"start":{"line":45,"column":20},"end":{"line":47,"column":30}}],"line":34},"5":{"loc":{"start":{"line":43,"column":36},"end":{"line":43,"column":71}},"type":"cond-expr","locations":[{"start":{"line":43,"column":62},"end":{"line":43,"column":63}},{"start":{"line":43,"column":66},"end":{"line":43,"column":71}}],"line":43},"6":{"loc":{"start":{"line":46,"column":31},"end":{"line":46,"column":66}},"type":"cond-expr","locations":[{"start":{"line":46,"column":57},"end":{"line":46,"column":58}},{"start":{"line":46,"column":61},"end":{"line":46,"column":66}}],"line":46},"7":{"loc":{"start":{"line":51,"column":16},"end":{"line":64,"column":17}},"type":"if","locations":[{"start":{"line":51,"column":16},"end":{"line":64,"column":17}},{"start":{"line":51,"column":16},"end":{"line":64,"column":17}}],"line":51},"8":{"loc":{"start":{"line":54,"column":20},"end":{"line":56,"column":21}},"type":"if","locations":[{"start":{"line":54,"column":20},"end":{"line":56,"column":21}},{"start":{"line":54,"column":20},"end":{"line":56,"column":21}}],"line":54}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":4,"9":4,"10":4,"11":4,"12":4,"13":4,"14":4,"15":4,"16":4,"17":100,"18":60,"19":60,"20":60,"21":60,"22":12,"23":12,"24":12,"25":12,"26":12,"27":12,"28":12,"29":12,"30":12,"31":40,"32":12,"33":12,"34":12,"35":8,"36":12,"37":12,"38":12,"39":12,"40":12,"41":12,"42":12,"43":4,"44":1,"45":1},"f":{"0":1,"1":1,"2":0,"3":4,"4":100},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[60,40],"4":[12,12,12,12],"5":[4,8],"6":[4,8],"7":[12,28],"8":[8,4]},"inputSourceMap":{"version":3,"file":"D:\\PROYECTOS\\node-disk-info\\src\\platforms\\windows.ts","sources":["D:\\PROYECTOS\\node-disk-info\\src\\platforms\\windows.ts"],"names":[],"mappings":";;;;;AAAA,gDAA6C;AAE7C,2DAAqC;AACrC,wCAAqC;AAErC;;GAEG;AACH;IAAA;IAgFA,CAAC;IA9EG;;;;OAIG;IACW,WAAG,GAAjB;QAEI,IAAM,MAAM,GAAY,EAAE,CAAC;QAC3B,IAAM,MAAM,GAAG,aAAK,CAAC,OAAO,CAAC,qBAAS,CAAC,eAAe,CAAC,CAAC;QACxD,IAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAErC,IAAI,gBAAgB,GAAG,KAAK,CAAC;QAE7B,IAAI,OAAO,GAAW,EAAE,CAAC;QACzB,IAAI,WAAW,GAAW,EAAE,CAAC;QAC7B,IAAI,SAAS,GAAW,CAAC,CAAC;QAC1B,IAAI,IAAI,GAAW,CAAC,CAAC;QAErB,KAAK,CAAC,OAAO,CAAC,UAAC,KAAK;YAEhB,IAAI,KAAK,KAAK,EAAE,EAAE;gBAEd,IAAM,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAChC,IAAM,OAAO,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBAC1B,IAAM,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBAEvB,QAAQ,OAAO,EAAE;oBACb,KAAK,SAAS;wBACV,OAAO,GAAG,IAAI,CAAC;wBACf,gBAAgB,GAAG,IAAI,CAAC;wBACxB,MAAM;oBACV,KAAK,aAAa;wBACd,WAAW,GAAG,IAAI,CAAC;wBACnB,MAAM;oBACV,KAAK,WAAW;wBACZ,SAAS,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;wBAChD,MAAM;oBACV,KAAK,MAAM;wBACP,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;wBAC3C,MAAM;iBACb;aAEJ;iBAAM;gBAEH,IAAI,gBAAgB,EAAE;oBAElB,IAAM,IAAI,GAAW,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC;oBAExC,IAAI,OAAO,GAAG,IAAI,CAAC;oBAEnB,IAAI,IAAI,GAAG,CAAC,EAAE;wBACV,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;qBACnD;oBAED,IAAM,CAAC,GAAG,IAAI,eAAK,CACf,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,SAAS,EACT,OAAO,EACP,OAAO,CAAC,CAAC;oBAEb,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBAEf,gBAAgB,GAAG,KAAK,CAAC;oBACzB,OAAO,GAAG,EAAE,CAAC;oBACb,WAAW,GAAG,EAAE,CAAC;oBACjB,SAAS,GAAG,CAAC,CAAC;oBACd,IAAI,GAAG,CAAC,CAAC;iBACZ;aAEJ;QAEL,CAAC,CAAC,CAAC;QAEH,OAAO,MAAM,CAAC;IAClB,CAAC;IAEL,cAAC;AAAD,CAAC,AAhFD,IAgFC;AAhFY,0BAAO","sourcesContent":["import {Constants} from '../utils/constants';\n\nimport Drive from '../classes/drive';\nimport {Utils} from \"../utils/utils\";\n\n/**\n * Class with Windows specific logic to get disk info.\n */\nexport class Windows {\n\n    /**\n     * Execute specific Windows command to get disk info.\n     *\n     * @return {Drive[]} List of drives and their info.\n     */\n    public static run(): Drive[] {\n\n        const drives: Drive[] = [];\n        const buffer = Utils.execute(Constants.WINDOWS_COMMAND);\n        const lines = buffer.split('\\r\\r\\n');\n\n        let newDiskIteration = false;\n\n        let caption: string = '';\n        let description: string = '';\n        let freeSpace: number = 0;\n        let size: number = 0;\n\n        lines.forEach((value) => {\n\n            if (value !== '') {\n\n                const tokens = value.split('=');\n                const section = tokens[0];\n                const data = tokens[1];\n\n                switch (section) {\n                    case 'Caption':\n                        caption = data;\n                        newDiskIteration = true;\n                        break;\n                    case 'Description':\n                        description = data;\n                        break;\n                    case 'FreeSpace':\n                        freeSpace = isNaN(parseFloat(data)) ? 0 : +data;\n                        break;\n                    case 'Size':\n                        size = isNaN(parseFloat(data)) ? 0 : +data;\n                        break;\n                }\n\n            } else {\n\n                if (newDiskIteration) {\n\n                    const used: number = (size - freeSpace);\n\n                    let percent = '0%';\n\n                    if (size > 0) {\n                        percent = Math.round((used / size) * 100) + '%';\n                    }\n\n                    const d = new Drive(\n                        description,\n                        size,\n                        used,\n                        freeSpace,\n                        percent,\n                        caption);\n\n                    drives.push(d);\n\n                    newDiskIteration = false;\n                    caption = '';\n                    description = '';\n                    freeSpace = 0;\n                    size = 0;\n                }\n\n            }\n\n        });\n\n        return drives;\n    }\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ece7f7e08b0dd0a651dc20329c40f798fdad4cc8","contentHash":"9f8337b5d271700d6396e10a70137a00c5a474e536392f1b07ef3517f8163fe9"}}